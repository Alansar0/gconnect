{{--
git status
git add .
git commit -m "Updated dashboard UI and fixed wallet logic"
git push origin main
If your branch name is different (like master or dev), use that instead of main


if you get an error like â€œrejectedâ€ or â€œnon-fast-forwardâ€
git pull origin main
git add .
git commit -m "Merge updates"
git push origin main
--}}

php artisan process:voucher-expiry

Perfect ğŸ‘
Here is a **clean, beginner-friendly, stress-free, repeatable STEP-BY-STEP PWA GUIDE for Laravel projects**, written so that **next time you can just follow it without debugging hell**.

Save this. Bookmark it. Reuse it. ğŸ”’

---

# âœ… **Laravel PWA â€“ FULL STEP-BY-STEP GUIDE (NO PACKAGES, NO DRAMA)**

> âœ” Works with **Laravel 10 / 11 / 12**
> âœ” Works on **Android (Chrome)**
> âœ” Works on **iOS (Safari â€“ Add to Home Screen)**
> âœ” No broken packages
> âœ” No composer issues
> âœ” Native-like install behavior


composer require erag/laravel-pwa
php artisan erag:install-pwa

## ğŸ“ STEP 1: Create Required Files

### 1ï¸âƒ£ `public/manifest.json`

```json
{
  "name": "Your App Name",
  "short_name": "YourApp",
  "description": "Your app description",
  "start_url": "/dashboard",
  "scope": "/",
  "display": "standalone",
  "background_color": "#0f172a",
  "theme_color": "#58a6ff",
  "orientation": "portrait",
  "icons": [
    {
      "src": "/images/icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/images/icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
```

> âš ï¸ `start_url` should be your **main app page**, not `/`

---

### 2ï¸âƒ£ Create icons

```
public/
 â””â”€ images/
    â””â”€ icons/
       â”œâ”€ icon-192x192.png
       â””â”€ icon-512x512.png
```

ğŸ“Œ These icons are the **home screen icon** users will see after installing.

---

### 3ï¸âƒ£ `public/offline.html`

```html
<!DOCTYPE html>
<html>
<head>
  <title>Offline</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h1>Offline</h1>
  <p>You are offline. Please check your internet connection.</p>
</body>
</html>
```

---

## âš™ï¸ STEP 2: Create Service Worker

### 4ï¸âƒ£ `public/service-worker.js`

```js
const CACHE_NAME = 'app-cache-v1';

const FILES_TO_CACHE = [
  '/',
  '/offline.html',
  '/manifest.json'
];

self.addEventListener('install', evt => {
  evt.waitUntil(
    caches.open(CACHE_NAME).then(cache => cache.addAll(FILES_TO_CACHE))
  );
  self.skipWaiting();
});

self.addEventListener('activate', evt => {
  evt.waitUntil(
    caches.keys().then(keys =>
      Promise.all(keys.map(k => k !== CACHE_NAME && caches.delete(k)))
    )
  );
  self.clients.claim();
});

self.addEventListener('fetch', evt => {
  evt.respondWith(
    caches.match(evt.request)
      .then(response => response || fetch(evt.request))
      .catch(() => caches.match('/offline.html'))
  );
});
```

âœ” Offline support
âœ” Cached shell
âœ” Safe fallback

---

## ğŸ§© STEP 3: Apply PWA to the RIGHT Layout

### ğŸ”‘ **RULE**

> âœ… Apply PWA ONLY to your **MAIN APP LAYOUT**
> âŒ Do NOT apply to admin layout

---

### 5ï¸âƒ£ App Layout (`resources/views/layouts/app.blade.php`)

Inside `<head>`:

```html
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="{{ asset('manifest.json') }}">
<meta name="theme-color" content="#58a6ff">

<!-- iOS Support -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="/images/icons/icon-192x192.png">
```

---

### 6ï¸âƒ£ Register Service Worker (before `</body>`)

```html
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/service-worker.js');
  });
}
</script>
```

âœ… Thatâ€™s it.

---

## ğŸš« STEP 4: Admin Layout (IMPORTANT)

For `layouts/admin.blade.php`:

âŒ **DO NOTHING**
âŒ No manifest
âŒ No service worker
âŒ No PWA meta

> Admin pages should NEVER be installable

---

## ğŸ§ª STEP 5: Test Checklist

### âœ” Desktop (Chrome)

* Open DevTools â†’ Application â†’ Manifest
* Check **Install App** button

### âœ” Android

* Chrome â†’ Open site â†’ â€œAdd to Home Screenâ€
* App opens **without browser UI**

### âœ” iOS (Safari)

* Share â†’ Add to Home Screen
* Opens as standalone app

---

## ğŸ§¯ STEP 6: Common Mistakes (Avoid Forever)

âŒ Using abandoned packages
âŒ Applying PWA to admin layout
âŒ Missing icons
âŒ Wrong `start_url`
âŒ Registering service worker twice
âŒ Serving over HTTP in production

---

## ğŸš€ STEP 7: Production Requirements

Before release:

âœ” HTTPS enabled
âœ” Icons exist
âœ” Manifest valid
âœ” Service worker reachable

---

## ğŸ“¦ OPTIONAL NEXT STEPS

### Android Play Store

* Use **Bubblewrap (TWA)**
* Or **Capacitor**

### iOS App Store

* Use **Capacitor**
* Or Safari A2HS (no store needed)

---

## ğŸ§  FINAL SUMMARY (SAVE THIS)

> **You NEVER need a PWA package in Laravel**
>
> Manifest + Service Worker + App Layout = DONE

This guide is **reusable for ALL future Laravel projects**.

If you want next:

* ğŸ”¥ Play Store upload guide
* ğŸ App Store guide
* ğŸ“² Push notifications
* ğŸ’¾ Advanced offline caching

Just say the word.
